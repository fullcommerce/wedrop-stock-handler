"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = (errArr) => {
    const rawErrors = errArr.erros;
    const returnData = {
        errors: []
    };
    if (Array.isArray(rawErrors)) {
        if (typeof rawErrors[0] === 'string') {
            const definedRawErrData = rawErrors;
            returnData.errors = definedRawErrData.map((err) => ({
                detail: err,
                code: '_'
            }));
        }
        else {
            const definedRawErrData = rawErrors;
            returnData.errors = definedRawErrData.map((errObj) => ({
                detail: errObj.erro.msg,
                code: String(errObj.erro.cod)
            }));
        }
    }
    else {
        if (rawErrors.erro) {
            const errors = rawErrors;
            returnData.errors = [
                {
                    detail: errors.erro.msg,
                    code: String(errors.erro.cod)
                }
            ];
        }
        else {
            const errors = rawErrors;
            returnData.errors = Object.keys(errors).map((errCode) => ({
                detail: errors[errCode],
                code: String(errCode)
            }));
        }
    }
    return returnData;
};
